"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{82763:function(t,n,e){e.d(n,{CK:function(){return p},xu:function(){return h},j8:function(){return d}});var r,i,o=e(71383),c=e(78462),s=e(87357),u=e(11496),a=e(88082),l=e(55137),f=e(8797),p=(0,f.ZP)(c.Z)(r||(r=(0,o.Z)(["\n  @media (max-width: 599px) {\n    margin-right: unset;\n  }\n"]))),h=(0,f.ZP)(s.Z)(i||(i=(0,o.Z)(["\n  &:hover {\n    li {\n      svg {\n        color: ",";\n      }\n    }\n  }\n"])),l.Z[500]),d=(0,u.ZP)(a.Z)((function(){return{"& .MuiBadge-badge":{bottom:"10%",right:"23%","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))},9798:function(t,n,e){e.d(n,{Z:function(){return h}});var r=e(51107),i=e(83984),o=e(87952),c=e(18459),s=e(60350),u=e(70315),a=e(82763),l=e(88078),f=e(85893),p=function(t){for(var n=t.count,e=[],i=0;i<n;i++)e.push(i);return(0,f.jsx)(r.Z,{max:n,total:n,children:e.map((function(t){return(0,f.jsx)(a.j8,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,f.jsx)(l.Z,{variant:"circular",width:50,height:50})},t)}))})},h=function(t){var n=t.users,e=t.onUserClick,l=(0,s.Z)().screenType;if(!n.length)return(0,f.jsx)(p,{count:5});var h=l===c.TW.DESKTOP?10:l===c.TW.TABLET?7:4,d=n.sort((function(t,n){return(0,u.Tq)(n.timestamp)===u.J0.ONLINE?1:(0,u.Tq)(t.timestamp)===u.J0.ONLINE?-1:0}));return(0,f.jsx)(r.Z,{max:h,total:n.length,children:d.map((function(t){var n;return(0,f.jsx)(a.j8,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",onClick:function(){return e(t)},sx:{cursor:"pointer"},color:(0,u.Tq)(t.timestamp)===u.J0.ONLINE?"success":"error",children:(0,f.jsx)(i.Z,{title:null!==(n=t.displayName)&&void 0!==n?n:"",placement:"bottom",arrow:!0,children:(0,f.jsx)(o.Z,{alt:t.displayName,src:t.photoURL,sx:{width:40,height:40}})})},t.uid)}))})}},49274:function(t,n,e){var r=e(15861),i=e(85893);n.Z=function(t){var n=t.title;return(0,i.jsx)(r.Z,{variant:"h3",component:"div",children:n})}},74447:function(t,n,e){e.d(n,{Z:function(){return J}});var r=e(71927),i=e(10155),o=e(27948),c=e(87357),s=e(66720),u=e(59499),a=e(93946),l=e(15861),f=e(83984),p=e(87952),h=e(11057),d=e(67294),x=e(326),j=e(11496),g=e(42293),v=e(18459);function O(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}var m=(0,j.ZP)(g.Z,{shouldForwardProp:function(t){return"open"!==t}})((function(t){var n=t.theme,e=t.open;return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?O(Object(e),!0).forEach((function(n){(0,u.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},e&&{marginLeft:v.pG,width:"calc(100% - ".concat(v.pG,"px)"),transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})})})),b=e(77058),w=e(56863),Z=e(85893),y=function(){var t=(0,b.$)().i18n,n=function(n){return t.changeLanguage(n.currentTarget.value)};return(0,Z.jsxs)(w.Z,{variant:"outlined",children:[(0,Z.jsx)(h.Z,{onClick:n,value:"en",sx:{color:"white"},children:"EN"}),(0,Z.jsx)(h.Z,{onClick:n,value:"ua",sx:{color:"white"},children:"UA"})]})},P=e(77533),E=e(97212),T=e(48885),L=e(59334),D=e(67720),I=e(11163),N=function(t){var n=t.open,e=t.toggleDrawer,r=t.anchor,i=t.signOutButton,o=t.drawerList,s=(0,I.useRouter)(),u=(0,b.$)().t;return(0,Z.jsx)(P.ZP,{anchor:r,open:n,onClose:e(!1,r),children:(0,Z.jsxs)(c.Z,{width:250,height:"100%",role:"presentation",display:"flex",justifyContent:"space-between",flexDirection:"column",onClick:e(!1,r),onKeyDown:e(!1,r),children:[(0,Z.jsxs)(c.Z,{pt:8,children:[o.map((function(t){return(0,Z.jsxs)(E.ZP,{button:!0,href:t.href,onClick:function(n){return function(t,n){t.preventDefault(),s.push(n)}(n,t.href)},children:[(0,Z.jsx)(T.Z,{children:t.icon}),(0,Z.jsx)(L.Z,{primary:u(t.text),sx:{color:"common.white"}})]},t.text)})),(0,Z.jsx)(D.Z,{})]}),i]})})},k=e(66001),C=e(70315),S=e(88530),G=e(72132),W=e(15398),A=e(2684),B=e(14957),R=e(7078),F=[{href:"/user/profile",text:"profile.title",icon:(0,Z.jsx)(W.Z,{sx:{color:"common.white"}})},{href:"/user/favorites",text:"favorites.title",icon:(0,Z.jsx)(B.Z,{sx:{color:"common.white"}})}],U=[{href:"/groups",text:"mainMenu.groups",icon:(0,Z.jsx)(A.Z,{sx:{color:"common.white"}})},{href:"/chats",text:"Chats",icon:(0,Z.jsx)(R.Z,{sx:{color:"common.white"}})}];function z(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function M(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?z(Object(e),!0).forEach((function(n){(0,u.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):z(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var K=function(){var t=(0,b.$)().t,n=(0,k.a)().user,e=(0,I.useRouter)(),r=(0,S.v0)(),o=(0,d.useState)({left:!1,right:!1}),s=o[0],j=o[1],g=function(t,n){return function(e){if("keydown"===e.type&&("Tab"===e.key||"Shift"===e.key))return null;j(M(M({},s),{},(0,u.Z)({},n,t)))}};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m,{position:"fixed",open:!1,children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(a.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return j((function(t){return M(M({},s),{},{left:!t.left})}))},sx:{marginRight:"36px"},children:(0,Z.jsx)(x.Z,{})}),(0,Z.jsx)(l.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,cursor:"pointer"},onClick:function(t){t.preventDefault(),e.push("/")},children:t("dashboard.title")}),(0,Z.jsx)(c.Z,{pr:1,children:(0,Z.jsx)(y,{})}),n&&n.displayName&&n.photoURL&&(0,Z.jsx)(f.Z,{title:"Open settings",children:(0,Z.jsx)(a.Z,{sx:{p:0},onClick:function(){return j((function(t){return M(M({},s),{},{right:!t.right})}))},children:(0,Z.jsx)(p.Z,M({alt:n.displayName,src:n.photoURL},(0,C.GZ)(n.displayName)))})})]})}),(0,Z.jsx)(N,{open:s.left,toggleDrawer:g,anchor:v.yG.LEFT,drawerList:U}),(0,Z.jsx)(N,{open:s.right,toggleDrawer:g,anchor:v.yG.RIGHT,signOutButton:(0,Z.jsx)(c.Z,{p:2,display:"flex",justifyContent:"center",children:(0,Z.jsx)(h.Z,{onClick:function(){return(0,S.w7)(r).then((function(){G.Am.success(t("toastSuccess.logOut")),e.push("/sign-in")})).catch((function(t){return G.Am.error("Error: ".concat(t))}))},variant:"outlined",size:"large",sx:{color:"white"},children:t("drawer.signOutButtonText")})}),drawerList:F})]})},q=e(34106),J=function(t){var n=t.children;return(0,Z.jsx)(r.Z,{theme:q.Z,children:(0,Z.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,Z.jsx)(s.ZP,{}),(0,Z.jsx)(K,{}),(0,Z.jsxs)(c.Z,{component:"main",sx:{flexGrow:1,height:"100vh"},children:[(0,Z.jsx)(i.Z,{}),(0,Z.jsx)(o.Z,{maxWidth:"xl",sx:{mt:2,mb:2},children:n})]})]})})}},18459:function(t,n,e){e.d(n,{pG:function(){return o},TW:function(){return r},yG:function(){return i},gg:function(){return c},DM:function(){return s}});var r,i,o=240;!function(t){t.DESKTOP="DESKTOP",t.TABLET="TABLET",t.MOBILE="MOBILE",t.INITIAL="INITIAL"}(r||(r={})),function(t){t.RIGHT="right",t.LEFT="left"}(i||(i={}));var c="https://api.mapbox.com/geocoding/v5/mapbox.places/",s=["#264f9e","#f9992c","#455fb4","#ef80b0","#6bcf73","#9e9e9e","#d9afce","#eeeeee","#d0f7c3","#fde2d5"]},43936:function(t,n,e){var r=e(59499),i=e(16835),o=e(87663),c=e(67294),s=e(92114);function u(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}n.Z=function(){var t=(0,c.useState)([]),n=t[0],e=t[1];return(0,c.useEffect)((function(){(0,o.jM)((0,o.iH)(s.UO,"usersGeolocation"),(function(t){var n,o=null===(n=Object.entries(t.val()))||void 0===n?void 0:n.map((function(t){var n=(0,i.Z)(t,2);n[0];return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?u(Object(e),!0).forEach((function(n){(0,r.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},n[1])}));e(o)}))}),[]),n}},60350:function(t,n,e){var r=e(67294),i=e(18459);n.Z=function(){var t=(0,r.useState)(window.innerWidth),n=t[0],e=t[1],o=(0,r.useState)(i.TW.INITIAL),c=o[0],s=o[1];return(0,r.useEffect)((function(){var t=function(){e(window.innerWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),(0,r.useEffect)((function(){s(n>1300?i.TW.DESKTOP:n<=1300&&n>800?i.TW.TABLET:i.TW.MOBILE)}),[n]),{screenType:c,windowWidth:n}}},70315:function(t,n,e){e.d(n,{J0:function(){return r},Tq:function(){return c},GZ:function(){return u},Yd:function(){return a}});var r,i=e(30381),o=e.n(i);!function(t){t.OFFLINE="Offline",t.ONLINE="Online"}(r||(r={}));var c=function(t){var n=o()().valueOf(),e=o()(n).diff(o()(t));return+o()(e).format("m")>2?r.OFFLINE:r.ONLINE},s=function(t){var n,e=0;for(n=0;n<t.length;n+=1)e=t.charCodeAt(n)+((e<<5)-e);var r="#";for(n=0;n<3;n+=1){r+="00".concat((e>>8*n&255).toString(16)).substr(-2)}return r},u=function(t){return{sx:{bgcolor:s(t)},children:a(t)}},a=function(t){return"".concat(null===t||void 0===t?void 0:t.split(" ")[0][0].toUpperCase()).concat(null===t||void 0===t?void 0:t.split(" ")[1][0].toUpperCase())}}}]);