"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{1035:function(e,r,t){t.d(r,{Yt:function(){return f},CC:function(){return d}});var n=t(9499),o=t(29),i=t(7794),c=t.n(i),s=t(5321),a=t(2114);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.PL)((0,s.hJ)(a.DB,"geolocation"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().then((function(e){var r=[];return e.forEach((function(e){var t=p({id:e.id},e.data());r.push(t)})),r}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)(c().mark((function e(r,t){var n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.user)&&void 0!==n&&n.uid){e.next=2;break}return e.abrupt("return",null);case 2:return o={coords:{accuracy:r.coords.accuracy,altitude:r.coords.altitude,altitudeAccuracy:r.coords.altitudeAccuracy,heading:r.coords.heading,latitude:r.coords.latitude,longitude:r.coords.longitude,speed:r.coords.speed},timestamp:r.timestamp,allowLocation:!0},e.next=5,(0,s.pl)((0,s.JU)(a.DB,"geolocation",t.user.uid),{geolocationCoords:o,user:t.user},{merge:!0});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()},4106:function(e,r,t){var n=(0,t(1457).Z)({palette:{mode:"light",primary:{main:"#264f9e"},secondary:{main:"#455fb4"},background:{paper:"#2d56a5"}}});r.Z=n},7932:function(e,r,t){t.d(r,{Z:function(){return K}});var n=t(1927),o=t(155),i=t(7948),c=t(7357),s=t(6720),a=t(7294),u=t(7212),p=t(796),l=t(9953),f=t(3946),d=t(1519),h=t(8462),j=t(9572),x=t(1098),g=t(9499),b=t(1496),O=t(7533);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,g.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v=(0,b.ZP)(O.ZP,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var r=e.theme,t=e.open;return{"& .MuiDrawer-paper":w({position:"relative",whiteSpace:"nowrap",width:240,transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen}),boxSizing:"border-box"},!t&&(0,g.Z)({overflowX:"hidden",transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),width:r.spacing(7)},r.breakpoints.up("sm"),{width:r.spacing(9)}))}})),m=t(7058),Z=t(1664),P=t(1163),D=t(5893),k=function(){var e=(0,m.$)().t;(0,P.useRouter)();return(0,D.jsx)(c.Z,{children:(0,D.jsx)(Z.default,{href:"/groups/main",passHref:!0,children:(0,D.jsxs)(u.ZP,{button:!0,children:[(0,D.jsx)(p.Z,{children:(0,D.jsx)(x.Z,{sx:{color:"white"}})}),(0,D.jsx)(l.Z,{primary:e("mainMenu.groups"),sx:{color:"white"}})]})})})},C=function(e){var r=e.toggleDrawer,t=e.open;return(0,D.jsxs)(v,{variant:"permanent",open:t,children:[(0,D.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,D.jsx)(f.Z,{onClick:r,children:(0,D.jsx)(j.Z,{})})}),(0,D.jsx)(d.Z,{}),(0,D.jsx)(h.Z,{children:(0,D.jsx)(k,{})})]})},S=t(5861),E=t(6893),N=t(9661),L=t(326),U=t(2293);function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var I=(0,b.ZP)(U.Z,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var r=e.theme,t=e.open;return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach((function(r){(0,g.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen})},t&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})})})),R=t(6863),A=t(1057),$=function(){var e=(0,m.$)().i18n,r=function(r){return e.changeLanguage(r.currentTarget.value)};return(0,D.jsxs)(R.Z,{variant:"contained",children:[(0,D.jsx)(A.Z,{onClick:r,value:"en",children:"EN"}),(0,D.jsx)(A.Z,{onClick:r,value:"ua",children:"UA"})]})},z=t(2132),G=t(8530),T=t(8878),_=function(){var e=(0,P.useRouter)(),r=(0,m.$)().t,t=[{href:"/user/profile",text:r("profile.title")},{href:"/user/favorites",text:r("favorites.title")}];return(0,D.jsxs)(c.Z,{pt:8,children:[(0,D.jsx)(h.Z,{children:t.map((function(r){return(0,D.jsxs)(u.ZP,{button:!0,href:r.href,onClick:function(t){return function(r,t){r.preventDefault(),e.push(t)}(t,r.href)},children:[(0,D.jsx)(p.Z,{children:(0,D.jsx)(T.Z,{sx:{color:"common.white"}})}),(0,D.jsx)(l.Z,{primary:r.text,sx:{color:"common.white"}})]},r.text)}))}),(0,D.jsx)(d.Z,{})]})},B=function(e){var r=e.open,t=e.toggleUserDrawer,n=(0,G.v0)(),o=(0,P.useRouter)(),i=(0,m.$)().t;return(0,D.jsx)(O.ZP,{anchor:"right",open:r,onClose:t(!1),children:(0,D.jsxs)(c.Z,{width:250,height:"100%",role:"presentation",display:"flex",justifyContent:"space-between",flexDirection:"column",onClick:t(!1),onKeyDown:t(!1),children:[(0,D.jsx)(_,{}),(0,D.jsx)(c.Z,{p:2,display:"flex",justifyContent:"center",children:(0,D.jsx)(A.Z,{onClick:function(){return(0,G.w7)(n).then((function(){z.Am.success(i("toastSuccess.logOut")),o.push("/login")})).catch((function(e){return z.Am.error("Error: ".concat(e))}))},variant:"contained",size:"large",children:i("drawer.signOutButtonText")})})]})})},J=t(1795),M=t(315);function W(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?W(Object(t),!0).forEach((function(r){(0,g.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var q=function(e){var r=e.toggleDrawer,t=e.open,n=(0,m.$)().t,i=(0,J.a)().user,s=(0,P.useRouter)(),u=(0,a.useState)(!1),p=u[0],l=u[1];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(I,{position:"absolute",open:t,children:(0,D.jsxs)(o.Z,{sx:{pr:"24px"},children:[(0,D.jsx)(f.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:r,sx:Y({marginRight:"36px"},t&&{display:"none"}),children:(0,D.jsx)(L.Z,{})}),(0,D.jsx)(S.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,cursor:"pointer"},onClick:function(e){e.preventDefault(),s.push("/")},children:n("dashboard.title")}),(0,D.jsx)(c.Z,{pr:1,children:(0,D.jsx)($,{})}),i&&i.displayName&&i.photoURL&&(0,D.jsx)(E.Z,{title:"Open settings",children:(0,D.jsx)(f.Z,{sx:{p:0},onClick:function(){return l((function(e){return!e}))},children:(0,D.jsx)(N.Z,Y({alt:i.displayName,src:i.photoURL},(0,M.GZ)(i.displayName)))})})]})}),(0,D.jsx)(B,{open:p,toggleUserDrawer:function(e){return function(r){if("keydown"===r.type&&("Tab"===r.key||"Shift"===r.key))return null;l(e)}}})]})},H=t(4106),K=function(e){var r=e.children,t=(0,a.useState)(!1),u=t[0],p=t[1],l=function(){return p(!u)};return(0,D.jsx)(n.Z,{theme:H.Z,children:(0,D.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,D.jsx)(s.ZP,{}),(0,D.jsx)(q,{open:u,toggleDrawer:l}),(0,D.jsx)(C,{open:u,toggleDrawer:l}),(0,D.jsxs)(c.Z,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,D.jsx)(o.Z,{}),(0,D.jsx)(i.Z,{maxWidth:"xl",sx:{mt:2,mb:2},children:r})]})]})})}},315:function(e,r,t){t.d(r,{Tq:function(){return c},GZ:function(){return a},Yd:function(){return u}});var n,o=t(381),i=t.n(o);!function(e){e.OFFLINE="Offline",e.ONLINE="Online"}(n||(n={}));var c=function(e){var r=i()().valueOf(),t=i()(r).diff(i()(e));return+i()(t).format("m")>5?n.OFFLINE:n.ONLINE},s=function(e){var r,t=0;for(r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t);var n="#";for(r=0;r<3;r+=1){n+="00".concat((t>>8*r&255).toString(16)).substr(-2)}return n},a=function(e){return{sx:{bgcolor:s(e)},children:u(e)}},u=function(e){return"".concat(e.split(" ")[0][0].toUpperCase()).concat(e.split(" ")[1][0].toUpperCase())}}}]);