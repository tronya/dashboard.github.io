"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{9865:function(e,r,n){n.d(r,{R:function(){return f},A:function(){return h}});var t=n(9499),i=n(29),o=n(7794),c=n.n(o),s=n(5321),a=n(2114);function u(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function p(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?u(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var l=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.PL)((0,s.hJ)(a.DB,"users"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().then((function(e){var r=[];return e.forEach((function(e){var n=p({uid:e.id},e.data());r.push(n)})),r}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)(c().mark((function e(r,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=r.user)&&void 0!==t&&t.uid){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,(0,s.pl)((0,s.JU)(a.DB,"users",r.user.uid),p(p({},r.user),{},{isLocationAllowed:n}),{merge:!0});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()},4106:function(e,r,n){var t=(0,n(1457).Z)({palette:{mode:"light",primary:{main:"#264f9e"},secondary:{main:"#455fb4"},background:{paper:"#2d56a5"}}});r.Z=t},7932:function(e,r,n){n.d(r,{Z:function(){return X}});var t=n(1927),i=n(155),o=n(7948),c=n(7357),s=n(6720),a=n(7294),u=n(7212),p=n(796),l=n(9953),f=n(3946),h=n(1519),d=n(8462),j=n(9572),x=n(1098),g=n(9499),b=n(1496),O=n(7533);function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function w(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){(0,g.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var y=(0,b.ZP)(O.ZP,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var r=e.theme,n=e.open;return{"& .MuiDrawer-paper":w({position:"relative",whiteSpace:"nowrap",width:240,transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&(0,g.Z)({overflowX:"hidden",transition:r.transitions.create("width",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),width:r.spacing(7)},r.breakpoints.up("sm"),{width:r.spacing(9)}))}})),Z=n(7058),m=n(1664),P=n(1163),D=n(5893),k=function(){var e=(0,Z.$)().t;(0,P.useRouter)();return(0,D.jsx)(c.Z,{children:(0,D.jsx)(m.default,{href:"/groups/main",passHref:!0,children:(0,D.jsxs)(u.ZP,{button:!0,children:[(0,D.jsx)(p.Z,{children:(0,D.jsx)(x.Z,{sx:{color:"white"}})}),(0,D.jsx)(l.Z,{primary:e("mainMenu.groups"),sx:{color:"white"}})]})})})},S=function(e){var r=e.toggleDrawer,n=e.open;return(0,D.jsxs)(y,{variant:"permanent",open:n,children:[(0,D.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,D.jsx)(f.Z,{onClick:r,children:(0,D.jsx)(j.Z,{})})}),(0,D.jsx)(h.Z,{}),(0,D.jsx)(d.Z,{children:(0,D.jsx)(k,{})})]})},C=n(5861),E=n(6893),N=n(9661),L=n(326),R=n(2293);function U(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}var F=(0,b.ZP)(R.Z,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var r=e.theme,n=e.open;return function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?U(Object(n),!0).forEach((function(r){(0,g.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})})})),I=n(6863),A=n(1057),$=function(){var e=(0,Z.$)().i18n,r=function(r){return e.changeLanguage(r.currentTarget.value)};return(0,D.jsxs)(I.Z,{variant:"contained",children:[(0,D.jsx)(A.Z,{onClick:r,value:"en",children:"EN"}),(0,D.jsx)(A.Z,{onClick:r,value:"ua",children:"UA"})]})},z=n(2132),G=n(8530),T=n(8878),_=function(){var e=(0,P.useRouter)(),r=(0,Z.$)().t,n=[{href:"/user/profile",text:r("profile.title")},{href:"/user/favorites",text:r("favorites.title")}];return(0,D.jsxs)(c.Z,{pt:8,children:[(0,D.jsx)(d.Z,{children:n.map((function(r){return(0,D.jsxs)(u.ZP,{button:!0,href:r.href,onClick:function(n){return function(r,n){r.preventDefault(),e.push(n)}(n,r.href)},children:[(0,D.jsx)(p.Z,{children:(0,D.jsx)(T.Z,{sx:{color:"common.white"}})}),(0,D.jsx)(l.Z,{primary:r.text,sx:{color:"common.white"}})]},r.text)}))}),(0,D.jsx)(h.Z,{})]})},B=function(e){var r=e.open,n=e.toggleUserDrawer,t=(0,G.v0)(),i=(0,P.useRouter)(),o=(0,Z.$)().t;return(0,D.jsx)(O.ZP,{anchor:"right",open:r,onClose:n(!1),children:(0,D.jsxs)(c.Z,{width:250,height:"100%",role:"presentation",display:"flex",justifyContent:"space-between",flexDirection:"column",onClick:n(!1),onKeyDown:n(!1),children:[(0,D.jsx)(_,{}),(0,D.jsx)(c.Z,{p:2,display:"flex",justifyContent:"center",children:(0,D.jsx)(A.Z,{onClick:function(){return(0,G.w7)(t).then((function(){z.Am.success(o("toastSuccess.logOut")),i.push("/login")})).catch((function(e){return z.Am.error("Error: ".concat(e))}))},variant:"contained",size:"large",children:o("drawer.signOutButtonText")})})]})})},J=n(1795),M=n(315);function W(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function q(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?W(Object(n),!0).forEach((function(r){(0,g.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var H=function(e){var r=e.toggleDrawer,n=e.open,t=(0,Z.$)().t,o=(0,J.a)().user,s=(0,P.useRouter)(),u=(0,a.useState)(!1),p=u[0],l=u[1];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(F,{position:"absolute",open:n,children:(0,D.jsxs)(i.Z,{sx:{pr:"24px"},children:[(0,D.jsx)(f.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:r,sx:q({marginRight:"36px"},n&&{display:"none"}),children:(0,D.jsx)(L.Z,{})}),(0,D.jsx)(C.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,cursor:"pointer"},onClick:function(e){e.preventDefault(),s.push("/")},children:t("dashboard.title")}),(0,D.jsx)(c.Z,{pr:1,children:(0,D.jsx)($,{})}),o&&o.displayName&&o.photoURL&&(0,D.jsx)(E.Z,{title:"Open settings",children:(0,D.jsx)(f.Z,{sx:{p:0},onClick:function(){return l((function(e){return!e}))},children:(0,D.jsx)(N.Z,q({alt:o.displayName,src:o.photoURL},(0,M.GZ)(o.displayName)))})})]})}),(0,D.jsx)(B,{open:p,toggleUserDrawer:function(e){return function(r){if("keydown"===r.type&&("Tab"===r.key||"Shift"===r.key))return null;l(e)}}})]})},K=n(4106),X=function(e){var r=e.children,n=(0,a.useState)(!1),u=n[0],p=n[1],l=function(){return p(!u)};return(0,D.jsx)(t.Z,{theme:K.Z,children:(0,D.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,D.jsx)(s.ZP,{}),(0,D.jsx)(H,{open:u,toggleDrawer:l}),(0,D.jsx)(S,{open:u,toggleDrawer:l}),(0,D.jsxs)(c.Z,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,D.jsx)(i.Z,{}),(0,D.jsx)(o.Z,{maxWidth:"xl",sx:{mt:2,mb:2},children:r})]})]})})}},315:function(e,r,n){n.d(r,{Tq:function(){return c},GZ:function(){return a},Yd:function(){return u}});var t,i=n(381),o=n.n(i);!function(e){e.OFFLINE="Offline",e.ONLINE="Online"}(t||(t={}));var c=function(e){var r=o()().valueOf(),n=o()(r).diff(o()(e));return+o()(n).format("m")>2?t.OFFLINE:t.ONLINE},s=function(e){var r,n=0;for(r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n);var t="#";for(r=0;r<3;r+=1){t+="00".concat((n>>8*r&255).toString(16)).substr(-2)}return t},a=function(e){return{sx:{bgcolor:s(e)},children:u(e)}},u=function(e){return"".concat(null===e||void 0===e?void 0:e.split(" ")[0][0].toUpperCase()).concat(null===e||void 0===e?void 0:e.split(" ")[1][0].toUpperCase())}}}]);