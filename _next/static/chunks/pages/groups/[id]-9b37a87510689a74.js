(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{6215:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var o=n(t(4938)),i=t(5893),a=(0,o.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");r.Z=a},2963:function(e,r,t){"use strict";t.d(r,{Z:function(){return C}});var n=t(7462),o=t(3366),i=t(7294),a=(t(9864),t(6010)),u=t(7192),c=t(1496),s=t(7623),l=t(5861),d=t(1796),p=t(8169),f=t(5893),m=(0,p.Z)((0,f.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),h=t(2607);const v=(0,c.ZP)(h.Z,{skipSx:!0})((({theme:e})=>(0,n.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,n.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,d._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,d._4)(e.palette.grey[600],.12)})}))),g=(0,c.ZP)(m)({width:24,height:16});var y=function(e){const r=e;return(0,f.jsx)("li",{children:(0,f.jsx)(v,(0,n.Z)({focusRipple:!0},e,{ownerState:r,children:(0,f.jsx)(g,{ownerState:r})}))})},b=t(8979);function x(e){return(0,b.Z)("MuiBreadcrumbs",e)}var Z=(0,t(6087).Z)("MuiBreadcrumbs",["root","ol","li","separator"]);const w=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],j=(0,c.ZP)(l.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,r)=>[{[`& .${Z.li}`]:r.li},r.root]})({}),k=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,r)=>r.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,r)=>r.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function T(e,r,t,n){return e.reduce(((o,i,a)=>(a<e.length-1?o=o.concat(i,(0,f.jsx)(S,{"aria-hidden":!0,className:r,ownerState:n,children:t},`separator-${a}`)):o.push(i),o)),[])}var C=i.forwardRef((function(e,r){const t=(0,s.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:l,component:d="nav",expandText:p="Show path",itemsAfterCollapse:m=1,itemsBeforeCollapse:h=1,maxItems:v=8,separator:g="/"}=t,b=(0,o.Z)(t,w),[Z,S]=i.useState(!1),C=(0,n.Z)({},t,{component:d,expanded:Z,expandText:p,itemsAfterCollapse:m,itemsBeforeCollapse:h,maxItems:v,separator:g}),O=(e=>{const{classes:r}=e;return(0,u.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},x,r)})(C),E=i.useRef(null),N=i.Children.toArray(c).filter((e=>i.isValidElement(e))).map(((e,r)=>(0,f.jsx)("li",{className:O.li,children:e},`child-${r}`)));return(0,f.jsx)(j,(0,n.Z)({ref:r,component:d,color:"text.secondary",className:(0,a.Z)(O.root,l),ownerState:C},b,{children:(0,f.jsx)(k,{className:O.ol,ref:E,ownerState:C,children:T(Z||v&&N.length<=v?N:(e=>h+m>=e.length?e:[...e.slice(0,h),(0,f.jsx)(y,{"aria-label":p,onClick:()=>{S(!0);const e=E.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-m,e.length)])(N),O.separator,g,C)})}))}))},122:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var n=t(3366),o=t(7462),i=t(7294),a=t(6010),u=t(7192),c=t(4844),s=t(1796),l=t(8216),d=t(1496),p=t(7623),f=t(8791),m=t(1705),h=t(5861),v=t(8979);function g(e){return(0,v.Z)("MuiLink",e)}var y=(0,t(6087).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),b=t(5893);const x=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],Z={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=(0,d.ZP)(h.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`underline${(0,l.Z)(t.underline)}`],"button"===t.component&&r.button]}})((({theme:e,ownerState:r})=>{const t=(0,c.D)(e,`palette.${(e=>Z[e]||e)(r.color)}`)||r.color;return(0,o.Z)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==t?(0,s.Fq)(t,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}})}));var j=i.forwardRef((function(e,r){const t=(0,p.Z)({props:e,name:"MuiLink"}),{className:c,color:s="primary",component:d="a",onBlur:h,onFocus:v,TypographyClasses:y,underline:Z="always",variant:j="inherit"}=t,k=(0,n.Z)(t,x),{isFocusVisibleRef:S,onBlur:T,onFocus:C,ref:O}=(0,f.Z)(),[E,N]=i.useState(!1),P=(0,m.Z)(r,O),R=(0,o.Z)({},t,{color:s,component:d,focusVisible:E,underline:Z,variant:j}),A=(e=>{const{classes:r,component:t,focusVisible:n,underline:o}=e,i={root:["root",`underline${(0,l.Z)(o)}`,"button"===t&&"button",n&&"focusVisible"]};return(0,u.Z)(i,g,r)})(R);return(0,b.jsx)(w,(0,o.Z)({className:(0,a.Z)(A.root,c),classes:y,color:s,component:d,onBlur:e=>{T(e),!1===S.current&&N(!1),h&&h(e)},onFocus:e=>{C(e),!0===S.current&&N(!0),v&&v(e)},ref:P,ownerState:R,variant:j},k))}))},7047:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Z}});var n=t(5861),o=t(7357),i=t(1163),a=t(7294),u=t(7058),c=t(2132),s=t(2442),l=t(2297),d=t(6489),p=t(240),f=t(9274),m=t(4447),h=t(3936),v=t(3580),g=function(e){return null!==e&&void 0!==e},y=t(5152),b=t(6001),x=t(5893),Z=function(){var e=(0,a.useState)([]),r=e[0],t=e[1],Z=(0,a.useState)(),w=Z[0],j=Z[1],k=(0,a.useState)(null),S=k[0],T=k[1],C=(0,a.useState)([]),O=C[0],E=C[1],N=(0,i.useRouter)(),P=(0,b.a)().user,R=(0,u.$)().t,A=N.query.id,M=(0,h.Z)(),L=(0,v.Z)(O);if((0,a.useEffect)((function(){(0,y.jA)(null===P||void 0===P?void 0:P.uid).then((function(e){return t(e)})).catch((function(e){return c.Am.error("Something wrong happened",e)}))}),[]),(0,a.useEffect)((function(){var e=r.find((function(e){return e.id===A}));j(e)}),[r,A]),(0,a.useEffect)((function(){var e=null===w||void 0===w?void 0:w.users.map((function(e){return M.find((function(r){return r.uid===e}))})).filter(g);e&&E(e)}),[w,M]),!w)return(0,x.jsx)(p.Z,{});return(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(d.Z,{breadcrumbText:R("group.groups"),otherBreadcrumbs:[(0,x.jsx)(n.Z,{color:"text.primary",children:R("group.groupDetails")},"group-detail")],breadcrumbTextHref:"/groups"}),(0,x.jsx)(f.Z,{title:"".concat(R("group.groupDetails"),": ").concat(w.name)}),(0,x.jsx)(o.Z,{display:"flex",p:1,children:(0,x.jsx)(l.Z,{users:O,onUserClick:function(e){return T(e)}})}),(0,x.jsx)(s.Z,{markers:L,selectedUser:S})]})}},2442:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(6158),o=t.n(n),i=(t(1634),t(7294)),a=t(5113),u=t(5893),c=function(e){var r=e.mapNode;return(0,u.jsx)(a.Z,{sx:{height:"calc(100vh - 155px)"},children:(0,u.jsx)("div",{ref:r,style:{width:"100%",height:"100%"}})})},s=t(1527),l=function(){var e=(0,i.useState)(),r=e[0],t=e[1],n=(0,i.useRef)(null),a=[24.065285,49.8138699];return(0,i.useEffect)((function(){var e=n.current;if(null!==e){var r=new(o().Map)({container:e,accessToken:"pk.eyJ1IjoidHJvbnlhIiwiYSI6ImNpdXNteHUwdzAwMWkyenBmamRlbTk2Zm8ifQ.aFKT4IOHyPCPRt_GNfUYnw",style:"mapbox://styles/tronya/cixa87ptp00g12qo9jjbqm9mk",center:a,zoom:11});t(r)}}),[]),{mapboxMap:r,mapNode:n}};function d(e,r){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw i}}}}function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var f=function(e){var r=e.markers,t=e.selectedUser,n=l(),a=n.mapboxMap,u=n.mapNode;return(0,i.useEffect)((function(){if(a)return a.addControl(new(o().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0})),function(){a.remove()}}),[a]),(0,i.useEffect)((function(){t&&a&&a.flyTo({center:[null===t||void 0===t?void 0:t.coords.longitude,null===t||void 0===t?void 0:t.coords.latitude],essential:!0,zoom:14})}),[a,t]),(0,i.useEffect)((function(){if(null!==r&&void 0!==r&&r.length&&a){var e,t=d(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;(0,s.R)(n,a)}}catch(o){t.e(o)}finally{t.f()}}}),[a,r]),(0,i.createElement)(c,{mapNode:u})}},2763:function(e,r,t){"use strict";t.d(r,{CK:function(){return f},xu:function(){return m},j8:function(){return h},PJ:function(){return v}});var n,o,i=t(1383),a=t(8462),u=t(7357),c=t(1496),s=t(3851),l=t(1107),d=t(5137),p=t(8797),f=(0,p.ZP)(a.Z)(n||(n=(0,i.Z)(["\n  @media (max-width: 599px) {\n    margin-right: unset;\n  }\n"]))),m=(0,p.ZP)(u.Z)(o||(o=(0,i.Z)(["\n  &:hover {\n    li {\n      svg {\n        color: ",";\n      }\n    }\n  }\n"])),d.Z[500]),h=(0,c.ZP)(s.Z)((function(){return{"& .MuiBadge-badge":{bottom:"10%",right:"23%","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),v=(0,c.ZP)(l.Z)((function(){return{"& .MuiAvatarGroup-avatar":{height:50,width:50}}}))},2297:function(e,r,t){"use strict";t.d(r,{Z:function(){return m}});var n=t(3984),o=t(7952),i=t(8459),a=t(7294),u=function(){var e=(0,a.useState)(window.innerWidth),r=e[0],t=e[1],n=(0,a.useState)(i.TW.INITIAL),o=n[0],u=n[1];return(0,a.useEffect)((function(){var e=function(){t(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((function(){u(r>1300?i.TW.DESKTOP:r<=1300&&r>800?i.TW.TABLET:i.TW.MOBILE)}),[r]),{screenType:o,windowWidth:r}},c=t(315),s=t(2763),l=t(1107),d=t(8078),p=t(5893),f=function(e){for(var r=e.count,t=[],n=0;n<r;n++)t.push(n);return(0,p.jsx)(l.Z,{max:r,total:r,children:t.map((function(e){return(0,p.jsx)(s.j8,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,p.jsx)(d.Z,{variant:"circular",width:50,height:50})},e)}))})},m=function(e){var r=e.users,t=e.onUserClick,a=u().screenType;if(!r.length)return(0,p.jsx)(f,{count:5});var l=a===i.TW.DESKTOP?10:a===i.TW.TABLET?7:4;return(0,p.jsx)(s.PJ,{max:l,total:r.length,children:r.map((function(e){return(0,p.jsx)(s.j8,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",onClick:function(){return t(e)},sx:{cursor:"pointer"},color:"Online"===(0,c.Tq)(e.timestamp)?"success":"error",children:(0,p.jsx)(n.Z,{title:e.displayName,placement:"bottom",arrow:!0,children:(0,p.jsx)(o.Z,{alt:e.displayName,src:e.photoURL,sx:{width:50,height:50}})})},e.uid)}))})}},3936:function(e,r,t){"use strict";var n=t(9499),o=t(6835),i=t(6256),a=t(7294),u=t(2114);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}r.Z=function(){var e=(0,a.useState)([]),r=e[0],t=e[1];return(0,a.useEffect)((function(){(0,i.jM)((0,i.iH)(u.UO,"usersGeolocation"),(function(e){var r,i=null===(r=Object.entries(e.val()))||void 0===r?void 0:r.map((function(e){var r=(0,o.Z)(e,2);r[0];return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},r[1])}));t(i)}))}),[]),r}},3580:function(e,r,t){"use strict";var n=t(1527),o=t(315);r.Z=function(e){var r=[];return(0,n.c)(e).forEach((function(e){var t=document.createElement("div"),n=e.properties.iconSize[0],i=e.properties.iconSize[1];t.style.borderRadius="50%",t.style.backgroundRepeat="no-repeat",t.style.backgroundImage=e.properties.backgroundImage?"url(".concat(e.properties.backgroundImage,")"):"url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='30px' width='30px'><text x='6' y='20' fill='black' font-size='15'>".concat((0,o.Yd)(e.properties.displayName),'</text></svg>")'),t.style.width="".concat(n,"px"),t.style.height="".concat(i,"px"),t.style.backgroundSize="100%",r.push({popup:t,marker:e})})),r}},1527:function(e,r,t){"use strict";t.d(r,{c:function(){return i},R:function(){return a}});var n=t(6158),o=t.n(n),i=function(e){return e.map((function(e){return{properties:{description:e.displayName,iconSize:[40,40],backgroundImage:e.photoURL,displayName:e.displayName},geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}}}))},a=function(e,r){var t=new(o().Popup)({closeButton:!1,closeOnClick:!1});e.popup.addEventListener("mouseenter",(function(){e.popup.style.cursor="pointer",e.marker.properties.description&&t.setLngLat(e.marker.geometry.coordinates).setHTML(e.marker.properties.description).addTo(r)})),e.popup.addEventListener("mouseleave",(function(){e.popup.style.cursor="",t.remove()})),new(o().Marker)(e.popup).setLngLat(e.marker.geometry.coordinates).addTo(r)}},6166:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups/[id]",function(){return t(7047)}])},1634:function(){},7812:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(2587);var o=t(2937);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[885,634,478,421,376,913,50,774,888,179],(function(){return r=6166,e(e.s=r);var r}));var r=e.O();_N_E=r}]);