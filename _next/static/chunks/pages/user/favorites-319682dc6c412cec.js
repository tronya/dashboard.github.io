(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{8082:function(r,n,t){"use strict";var e;t.d(n,{G:function(){return e}}),function(r){r.FAVORITES="favorites",r.GROUPS="groups",r.USERS="users",r.USERS_GEOLOCATION="usersGeolocation"}(e||(e={}))},7985:function(r,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var e=t(7812),i=t(7294),o=t(7357),c=t(5861),s=t(5113),u=t(7058),a=t(6489),l=t(9499),f=t(7212),d=t(8987),p=t(7952),h=t(9953),x=t(1519),j=t(8462),v=t(8078),O=t(5893),b=function(r){for(var n=r.count,t=[],e=0;e<n;e++)t.push(e);return(0,O.jsx)(j.Z,{sx:{width:240},children:t.map((function(r){return(0,O.jsxs)(f.ZP,{alignItems:"flex-start",children:[(0,O.jsx)(d.Z,{children:(0,O.jsx)(v.Z,{variant:"circular",width:40,height:40})}),(0,O.jsx)(h.Z,{primary:(0,O.jsx)(v.Z,{variant:"text"}),secondary:(0,O.jsx)(c.Z,{component:"span",variant:"body2",children:(0,O.jsx)(v.Z,{variant:"text"})})})]},r)}))})},g=t(7036),Z=t(3486),m=t(2763),y=t(315),w=t(6001);function P(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}function E(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,l.Z)(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}var k=function(r){var n=r.users,t=r.onUserClick,e=r.starIcon,i=(0,w.a)().user,o=(0,u.$)().t;if(!n.length)return(0,O.jsx)(b,{count:6});var s=n[n.length-1].uid;return(0,O.jsx)(m.CK,{sx:{mr:2,mb:2,bgcolor:"background.paper"},children:n.map((function(r){var n=r.uid===(null===i||void 0===i?void 0:i.uid);return(0,O.jsxs)(m.xu,{onClick:function(){return t(r)},sx:{cursor:"pointer"},children:[(0,O.jsxs)(f.ZP,{alignItems:"center",children:[r.displayName&&r.photoURL&&(0,O.jsx)(d.Z,{children:(0,O.jsx)(p.Z,E({alt:r.displayName,src:r.photoURL},(0,y.GZ)(r.displayName)))}),(0,O.jsx)(h.Z,{sx:{color:g.Z[300]},primary:(0,O.jsxs)(O.Fragment,{children:[r.displayName,(0,O.jsx)(c.Z,{variant:"caption",children:n&&o("usersList.itsYou")})]}),secondary:(0,O.jsx)(c.Z,{component:"span",variant:"body2",color:"Online"===(0,y.Tq)(r.timestamp)?Z.Z[400]:g.Z[500],children:(0,y.Tq)(r.timestamp)})}),e&&e(r.uid)]}),s!==r.uid&&(0,O.jsx)(x.Z,{variant:"inset",component:"li"})]},r.uid)}))})},C=t(3329),D=t(8153),T=t(5137),S=function(r){var n=r.users,t=r.onUserClick,e=r.favorites,i=(0,u.$)().t;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(a.Z,{breadcrumbText:i("favorites.title")}),(0,O.jsx)(o.Z,{py:2,children:(0,O.jsx)(c.Z,{variant:"h4",children:i("favorites.title")})}),(0,O.jsx)(s.Z,{children:(0,O.jsx)(k,{users:n,onUserClick:t,starIcon:function(r){return null!==e&&void 0!==e&&e.find((function(n){return n===r}))?(0,O.jsx)(D.Z,{sx:{color:T.Z[500]}}):(0,O.jsx)(C.Z,{sx:{color:"white"}})}})})]})},I=t(240),L=t(4447),N=t(29),G=t(7794),R=t.n(G),U=t(5321),_=t(2114),A=t(8082);var F=function(){var r=(0,N.Z)(R().mark((function r(n,t){return R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,U.pl)((0,U.JU)(_.DB,A.G.FAVORITES,n),{users:t,id:n});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(n,t){return r.apply(this,arguments)}}(),B=t(3936),M=function(){var r=(0,w.a)().user,n=(0,B.Z)(),t=(0,i.useState)([]),o=t[0],c=t[1];if((0,i.useEffect)((function(){if(null!==r&&void 0!==r&&r.uid){var n=(0,U.IO)((0,U.hJ)(_.DB,"favorites"),(0,U.ar)("id","==",null===r||void 0===r?void 0:r.uid));(0,U.cf)(n,(function(r){r.forEach((function(r){c(r.data().users)}))}))}}),[r]),!n||!r)return(0,O.jsx)(I.Z,{});var s=function(n){c(n),F(r.uid,n)},u=n.filter((function(n){return r.uid!==n.uid})).sort((function(r,n){return null!==o&&void 0!==o&&o.includes(n.uid)?1:null!==o&&void 0!==o&&o.includes(r.uid)?-1:0}));return(0,O.jsx)(L.Z,{children:(0,O.jsx)(S,{users:u,onUserClick:function(r){if(!o.some((function(n){return n===r.uid}))&&r.uid){var n=[].concat((0,e.Z)(o),[r.uid]);s(n)}else{var t=o.filter((function(n){return r.uid!==n}));s(t)}},favorites:o})})}},2763:function(r,n,t){"use strict";t.d(n,{CK:function(){return p},xu:function(){return h},j8:function(){return x},PJ:function(){return j}});var e,i,o=t(1383),c=t(8462),s=t(7357),u=t(1496),a=t(3851),l=t(1107),f=t(5137),d=t(8797),p=(0,d.ZP)(c.Z)(e||(e=(0,o.Z)(["\n  @media (max-width: 599px) {\n    margin-right: unset;\n  }\n"]))),h=(0,d.ZP)(s.Z)(i||(i=(0,o.Z)(["\n  &:hover {\n    li {\n      svg {\n        color: ",";\n      }\n    }\n  }\n"])),f.Z[500]),x=(0,u.ZP)(a.Z)((function(){return{"& .MuiBadge-badge":{bottom:"10%",right:"23%","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),j=(0,u.ZP)(l.Z)((function(){return{"& .MuiAvatarGroup-avatar":{height:50,width:50}}}))},6489:function(r,n,t){"use strict";var e=t(7812),i=t(122),o=t(5861),c=t(2963),s=t(1163),u=t(6215),a=t(7058),l=t(5893);n.Z=function(r){var n=r.otherBreadcrumbs,t=r.breadcrumbText,f=r.breadcrumbTextHref,d=(0,s.useRouter)(),p=(0,a.$)().t,h=[(0,l.jsx)(i.Z,{underline:"hover",color:"inherit",href:"/",onClick:function(){return d.push("/")},children:p("dashboard.title")},"dashboard"),(0,l.jsx)(o.Z,{color:"text.primary",sx:{"&:hover":{cursor:null!==n&&void 0!==n&&n.length?"pointer":"default"}},onClick:function(){return(null===n||void 0===n?void 0:n.length)&&f&&d.push(f)},children:t},t)].concat((0,e.Z)(null!==n&&void 0!==n?n:[]));return(0,l.jsx)(c.Z,{separator:(0,l.jsx)(u.Z,{}),"aria-label":"breadcrumb",children:h})}},4447:function(r,n,t){"use strict";t.d(n,{Z:function(){return H}});var e=t(1927),i=t(155),o=t(7948),c=t(7357),s=t(6720),u=t(9499),a=t(3946),l=t(5861),f=t(3984),d=t(7952),p=t(1057),h=t(7294),x=t(326),j=t(1496),v=t(2293),O=t(8459);function b(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}var g=(0,j.ZP)(v.Z,{shouldForwardProp:function(r){return"open"!==r}})((function(r){var n=r.theme,t=r.open;return function(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,u.Z)(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}({zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},t&&{marginLeft:O.pG,width:"calc(100% - ".concat(O.pG,"px)"),transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})})})),Z=t(7058),m=t(6863),y=t(5893),w=function(){var r=(0,Z.$)().i18n,n=function(n){return r.changeLanguage(n.currentTarget.value)};return(0,y.jsxs)(m.Z,{variant:"contained",children:[(0,y.jsx)(p.Z,{onClick:n,value:"en",children:"EN"}),(0,y.jsx)(p.Z,{onClick:n,value:"ua",children:"UA"})]})},P=t(7533),E=t(7212),k=t(796),C=t(9953),D=t(1519),T=t(1163),S=function(r){var n=r.open,t=r.toggleDrawer,e=r.anchor,i=r.signOutButton,o=r.drawerList,s=(0,T.useRouter)(),u=(0,Z.$)().t;return(0,y.jsx)(P.ZP,{anchor:e,open:n,onClose:t(!1,e),children:(0,y.jsxs)(c.Z,{width:250,height:"100%",role:"presentation",display:"flex",justifyContent:"space-between",flexDirection:"column",onClick:t(!1,e),onKeyDown:t(!1,e),children:[(0,y.jsxs)(c.Z,{pt:8,children:[o.map((function(r){return(0,y.jsxs)(E.ZP,{button:!0,href:r.href,onClick:function(n){return function(r,n){r.preventDefault(),s.push(n)}(n,r.href)},children:[(0,y.jsx)(k.Z,{children:r.icon}),(0,y.jsx)(C.Z,{primary:u(r.text),sx:{color:"common.white"}})]},r.text)})),(0,y.jsx)(D.Z,{})]}),i]})})},I=t(6001),L=t(315),N=t(8530),G=t(2132),R=t(5398),U=t(2684),_=t(8153),A=[{href:"/user/profile",text:"profile.title",icon:(0,y.jsx)(R.Z,{sx:{color:"common.white"}})},{href:"/user/favorites",text:"favorites.title",icon:(0,y.jsx)(_.Z,{sx:{color:"common.white"}})}],F=[{href:"/groups/main",text:"mainMenu.groups",icon:(0,y.jsx)(U.Z,{sx:{color:"common.white"}})}];function B(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}function M(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach((function(n){(0,u.Z)(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}var $=function(){var r=(0,Z.$)().t,n=(0,I.a)().user,t=(0,T.useRouter)(),e=(0,N.v0)(),o=(0,h.useState)({left:!1,right:!1}),s=o[0],j=o[1],v=function(r,n){return function(t){if("keydown"===t.type&&("Tab"===t.key||"Shift"===t.key))return null;j(M(M({},s),{},(0,u.Z)({},n,r)))}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(g,{position:"absolute",open:!1,children:(0,y.jsxs)(i.Z,{children:[(0,y.jsx)(a.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return j((function(r){return M(M({},s),{},{left:!r.left})}))},sx:{marginRight:"36px"},children:(0,y.jsx)(x.Z,{})}),(0,y.jsx)(l.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,cursor:"pointer"},onClick:function(r){r.preventDefault(),t.push("/")},children:r("dashboard.title")}),(0,y.jsx)(c.Z,{pr:1,children:(0,y.jsx)(w,{})}),n&&n.displayName&&n.photoURL&&(0,y.jsx)(f.Z,{title:"Open settings",children:(0,y.jsx)(a.Z,{sx:{p:0},onClick:function(){return j((function(r){return M(M({},s),{},{right:!r.right})}))},children:(0,y.jsx)(d.Z,M({alt:n.displayName,src:n.photoURL},(0,L.GZ)(n.displayName)))})})]})}),(0,y.jsx)(S,{open:s.left,toggleDrawer:v,anchor:O.yG.LEFT,drawerList:F}),(0,y.jsx)(S,{open:s.right,toggleDrawer:v,anchor:O.yG.RIGHT,signOutButton:(0,y.jsx)(c.Z,{p:2,display:"flex",justifyContent:"center",children:(0,y.jsx)(p.Z,{onClick:function(){return(0,N.w7)(e).then((function(){G.Am.success(r("toastSuccess.logOut")),t.push("/login")})).catch((function(r){return G.Am.error("Error: ".concat(r))}))},variant:"contained",size:"large",children:r("drawer.signOutButtonText")})}),drawerList:A})]})},K=t(4106),H=function(r){var n=r.children;return(0,y.jsx)(e.Z,{theme:K.Z,children:(0,y.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,y.jsx)(s.ZP,{}),(0,y.jsx)($,{}),(0,y.jsxs)(c.Z,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,y.jsx)(i.Z,{}),(0,y.jsx)(o.Z,{maxWidth:"xl",sx:{mt:2,mb:2},children:n})]})]})})}},8459:function(r,n,t){"use strict";t.d(n,{pG:function(){return o},TW:function(){return e},yG:function(){return i}});var e,i,o=240;!function(r){r.DESKTOP="DESKTOP",r.TABLET="TABLET",r.MOBILE="MOBILE",r.INITIAL="INITIAL"}(e||(e={})),function(r){r.RIGHT="right",r.LEFT="left"}(i||(i={}))},3936:function(r,n,t){"use strict";var e=t(9499),i=t(6835),o=t(6256),c=t(7294),s=t(2114);function u(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}n.Z=function(){var r=(0,c.useState)([]),n=r[0],t=r[1];return(0,c.useEffect)((function(){(0,o.jM)((0,o.iH)(s.UO,"usersGeolocation"),(function(r){var n,o=null===(n=Object.entries(r.val()))||void 0===n?void 0:n.map((function(r){var n=(0,i.Z)(r,2);n[0];return function(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,e.Z)(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}({},n[1])}));t(o)}))}),[]),n}},315:function(r,n,t){"use strict";t.d(n,{Tq:function(){return c},GZ:function(){return u},Yd:function(){return a}});var e,i=t(381),o=t.n(i);!function(r){r.OFFLINE="Offline",r.ONLINE="Online"}(e||(e={}));var c=function(r){var n=o()().valueOf(),t=o()(n).diff(o()(r));return+o()(t).format("m")>2?e.OFFLINE:e.ONLINE},s=function(r){var n,t=0;for(n=0;n<r.length;n+=1)t=r.charCodeAt(n)+((t<<5)-t);var e="#";for(n=0;n<3;n+=1){e+="00".concat((t>>8*n&255).toString(16)).substr(-2)}return e},u=function(r){return{sx:{bgcolor:s(r)},children:a(r)}},a=function(r){return"".concat(null===r||void 0===r?void 0:r.split(" ")[0][0].toUpperCase()).concat(null===r||void 0===r?void 0:r.split(" ")[1][0].toUpperCase())}},1466:function(r,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/favorites",function(){return t(7985)}])}},function(r){r.O(0,[885,478,421,376,552,774,888,179],(function(){return n=1466,r(r.s=n);var n}));var n=r.O();_N_E=n}]);