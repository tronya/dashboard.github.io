(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{8082:function(r,e,n){"use strict";var t;n.d(e,{G:function(){return t}}),function(r){r.FAVORITES="favorites",r.GROUPS="groups",r.USERS="users",r.USERS_GEOLOCATION="usersGeolocation"}(t||(t={}))},7985:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return $}});var t=n(7812),i=n(7294),o=n(7357),s=n(5861),c=n(5113),u=n(7058),a=n(6489),l=n(9499),f=n(7212),p=n(8987),d=n(7952),h=n(9953),j=n(1519),x=n(8462),v=n(8078),O=n(5893),b=function(r){for(var e=r.count,n=[],t=0;t<e;t++)n.push(t);return(0,O.jsx)(x.Z,{sx:{width:240},children:n.map((function(r){return(0,O.jsxs)(f.ZP,{alignItems:"flex-start",children:[(0,O.jsx)(p.Z,{children:(0,O.jsx)(v.Z,{variant:"circular",width:40,height:40})}),(0,O.jsx)(h.Z,{primary:(0,O.jsx)(v.Z,{variant:"text"}),secondary:(0,O.jsx)(s.Z,{component:"span",variant:"body2",children:(0,O.jsx)(v.Z,{variant:"text"})})})]},r)}))})},g=n(7036),Z=n(3486),y=n(2763),m=n(315),w=n(6001);function P(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function D(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,l.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}var E=function(r){var e=r.users,n=r.onUserClick,t=r.starIcon,i=(0,w.a)().user,o=(0,u.$)().t;if(!e.length)return(0,O.jsx)(b,{count:6});var c=e[e.length-1].uid;return(0,O.jsx)(y.CK,{sx:{mr:2,mb:2,bgcolor:"background.paper"},children:e.map((function(r){var e=r.uid===(null===i||void 0===i?void 0:i.uid);return(0,O.jsxs)(y.xu,{onClick:function(){return n(r)},sx:{cursor:"pointer"},children:[(0,O.jsxs)(f.ZP,{alignItems:"center",children:[r.displayName&&r.photoURL&&(0,O.jsx)(p.Z,{children:(0,O.jsx)(d.Z,D({alt:r.displayName,src:r.photoURL},(0,m.GZ)(r.displayName)))}),(0,O.jsx)(h.Z,{sx:{color:g.Z[300]},primary:(0,O.jsxs)(O.Fragment,{children:[r.displayName,(0,O.jsx)(s.Z,{variant:"caption",children:e&&o("usersList.itsYou")})]}),secondary:(0,O.jsx)(s.Z,{component:"span",variant:"body2",color:"Online"===(0,m.Tq)(r.timestamp)?Z.Z[400]:g.Z[500],children:(0,m.Tq)(r.timestamp)})}),t&&t(r.uid)]}),c!==r.uid&&(0,O.jsx)(j.Z,{variant:"inset",component:"li"})]},r.uid)}))})},k=n(3329),S=n(8153),C=n(5137),I=function(r){var e=r.users,n=r.onUserClick,t=r.favorites,i=(0,u.$)().t;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(a.Z,{breadcrumbText:i("favorites.title")}),(0,O.jsx)(o.Z,{py:2,children:(0,O.jsx)(s.Z,{variant:"h4",children:i("favorites.title")})}),(0,O.jsx)(c.Z,{children:(0,O.jsx)(E,{users:e,onUserClick:n,starIcon:function(r){return null!==t&&void 0!==t&&t.find((function(e){return e===r}))?(0,O.jsx)(S.Z,{sx:{color:C.Z[500]}}):(0,O.jsx)(k.Z,{sx:{color:"white"}})}})})]})},T=n(240),N=n(8332),L=n(29),U=n(7794),R=n.n(U),_=n(5321),A=n(2114),G=n(8082);var F=function(){var r=(0,L.Z)(R().mark((function r(e,n){return R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,_.pl)((0,_.JU)(A.DB,G.G.FAVORITES,e),{users:n,id:e});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),B=n(3936),$=function(){var r=(0,w.a)().user,e=(0,B.Z)(),n=(0,i.useState)([]),o=n[0],s=n[1];if((0,i.useEffect)((function(){if(null!==r&&void 0!==r&&r.uid){var e=(0,_.IO)((0,_.hJ)(A.DB,"favorites"),(0,_.ar)("id","==",null===r||void 0===r?void 0:r.uid));(0,_.cf)(e,(function(r){r.forEach((function(r){s(r.data().users)}))}))}}),[r]),!e||!r)return(0,O.jsx)(T.Z,{});var c=function(e){s(e),F(r.uid,e)},u=e.filter((function(e){return r.uid!==e.uid})).sort((function(r,e){return null!==o&&void 0!==o&&o.includes(e.uid)?1:null!==o&&void 0!==o&&o.includes(r.uid)?-1:0}));return(0,O.jsx)(N.Z,{children:(0,O.jsx)(I,{users:u,onUserClick:function(r){if(!o.some((function(e){return e===r.uid}))&&r.uid){var e=[].concat((0,t.Z)(o),[r.uid]);c(e)}else{var n=o.filter((function(e){return r.uid!==e}));c(n)}},favorites:o})})}},2763:function(r,e,n){"use strict";n.d(e,{CK:function(){return d},xu:function(){return h},j8:function(){return j},PJ:function(){return x}});var t,i,o=n(1383),s=n(8462),c=n(7357),u=n(1496),a=n(3851),l=n(1107),f=n(5137),p=n(8797),d=(0,p.ZP)(s.Z)(t||(t=(0,o.Z)(["\n  @media (max-width: 599px) {\n    margin-right: unset;\n  }\n"]))),h=(0,p.ZP)(c.Z)(i||(i=(0,o.Z)(["\n  &:hover {\n    li {\n      svg {\n        color: ",";\n      }\n    }\n  }\n"])),f.Z[500]),j=(0,u.ZP)(a.Z)((function(){return{"& .MuiBadge-badge":{bottom:"10%",right:"23%","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),x=(0,u.ZP)(l.Z)((function(){return{"& .MuiAvatarGroup-avatar":{height:50,width:50}}}))},6489:function(r,e,n){"use strict";var t=n(7812),i=n(122),o=n(5861),s=n(2963),c=n(1163),u=n(6215),a=n(7058),l=n(5893);e.Z=function(r){var e=r.otherBreadcrumbs,n=r.breadcrumbText,f=r.breadcrumbTextHref,p=(0,c.useRouter)(),d=(0,a.$)().t,h=[(0,l.jsx)(i.Z,{underline:"hover",color:"inherit",href:"/",onClick:function(){return p.push("/")},children:d("dashboard.title")},"dashboard"),(0,l.jsx)(o.Z,{color:"text.primary",sx:{"&:hover":{cursor:null!==e&&void 0!==e&&e.length?"pointer":"default"}},onClick:function(){return(null===e||void 0===e?void 0:e.length)&&f&&p.push(f)},children:n},n)].concat((0,t.Z)(null!==e&&void 0!==e?e:[]));return(0,l.jsx)(s.Z,{separator:(0,l.jsx)(u.Z,{}),"aria-label":"breadcrumb",children:h})}},8332:function(r,e,n){"use strict";n.d(e,{Z:function(){return W}});var t=n(1927),i=n(155),o=n(7948),s=n(7357),c=n(6720),u=n(7294),a=n(7212),l=n(796),f=n(9953),p=n(3946),d=n(1519),h=n(8462),j=n(9572),x=n(1098),v=n(9499),O=n(1496),b=n(7533),g=n(8459);function Z(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function y(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){(0,v.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}var m=(0,O.ZP)(b.ZP,{shouldForwardProp:function(r){return"open"!==r}})((function(r){var e=r.theme,n=r.open;return{"& .MuiDrawer-paper":y({position:"relative",whiteSpace:"nowrap",width:g.p,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&(0,v.Z)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}))}})),w=n(7058),P=n(1664),D=n(5893),E=function(){var r=(0,w.$)().t;return(0,D.jsx)(s.Z,{children:(0,D.jsx)(P.default,{href:"/groups",passHref:!0,children:(0,D.jsxs)(a.ZP,{button:!0,children:[(0,D.jsx)(l.Z,{children:(0,D.jsx)(x.Z,{sx:{color:"white"}})}),(0,D.jsx)(f.Z,{primary:r("mainMenu.groups"),sx:{color:"white"}})]})})})},k=function(r){var e=r.toggleDrawer,n=r.open;return(0,D.jsxs)(m,{variant:"permanent",open:n,children:[(0,D.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,D.jsx)(p.Z,{onClick:e,children:(0,D.jsx)(j.Z,{})})}),(0,D.jsx)(d.Z,{}),(0,D.jsx)(h.Z,{children:(0,D.jsx)(E,{})})]})},S=n(5861),C=n(3984),I=n(7952),T=n(326),N=n(2293);function L(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}var U=(0,O.ZP)(N.Z,{shouldForwardProp:function(r){return"open"!==r}})((function(r){var e=r.theme,n=r.open;return function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){(0,v.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},n&&{marginLeft:g.p,width:"calc(100% - ".concat(g.p,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),R=n(6863),_=n(1057),A=function(){var r=(0,w.$)().i18n,e=function(e){return r.changeLanguage(e.currentTarget.value)};return(0,D.jsxs)(R.Z,{variant:"contained",children:[(0,D.jsx)(_.Z,{onClick:e,value:"en",children:"EN"}),(0,D.jsx)(_.Z,{onClick:e,value:"ua",children:"UA"})]})},G=n(2132),F=n(8530),B=n(8878),$=n(1163),M=function(){var r=(0,$.useRouter)(),e=(0,w.$)().t,n=[{href:"/user/profile",text:e("profile.title")},{href:"/user/favorites",text:e("favorites.title")}];return(0,D.jsxs)(s.Z,{pt:8,children:[(0,D.jsx)(h.Z,{children:n.map((function(e){return(0,D.jsxs)(a.ZP,{button:!0,href:e.href,onClick:function(n){return function(e,n){e.preventDefault(),r.push(n)}(n,e.href)},children:[(0,D.jsx)(l.Z,{children:(0,D.jsx)(B.Z,{sx:{color:"common.white"}})}),(0,D.jsx)(f.Z,{primary:e.text,sx:{color:"common.white"}})]},e.text)}))}),(0,D.jsx)(d.Z,{})]})},K=function(r){var e=r.open,n=r.toggleUserDrawer,t=(0,F.v0)(),i=(0,$.useRouter)(),o=(0,w.$)().t;return(0,D.jsx)(b.ZP,{anchor:"right",open:e,onClose:n(!1),children:(0,D.jsxs)(s.Z,{width:250,height:"100%",role:"presentation",display:"flex",justifyContent:"space-between",flexDirection:"column",onClick:n(!1),onKeyDown:n(!1),children:[(0,D.jsx)(M,{}),(0,D.jsx)(s.Z,{p:2,display:"flex",justifyContent:"center",children:(0,D.jsx)(_.Z,{onClick:function(){return(0,F.w7)(t).then((function(){G.Am.success(o("toastSuccess.logOut")),i.push("/login")})).catch((function(r){return G.Am.error("Error: ".concat(r))}))},variant:"contained",size:"large",children:o("drawer.signOutButtonText")})})]})})},z=n(6001),q=n(315);function H(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function J(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){(0,v.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}var X=function(r){var e=r.toggleDrawer,n=r.open,t=(0,w.$)().t,o=(0,z.a)().user,c=(0,$.useRouter)(),a=(0,u.useState)(!1),l=a[0],f=a[1];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(U,{position:"absolute",open:n,children:(0,D.jsxs)(i.Z,{sx:{pr:"24px"},children:[(0,D.jsx)(p.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e,sx:J({marginRight:"36px"},n&&{display:"none"}),children:(0,D.jsx)(T.Z,{})}),(0,D.jsx)(S.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,cursor:"pointer"},onClick:function(r){r.preventDefault(),c.push("/")},children:t("dashboard.title")}),(0,D.jsx)(s.Z,{pr:1,children:(0,D.jsx)(A,{})}),o&&o.displayName&&o.photoURL&&(0,D.jsx)(C.Z,{title:"Open settings",children:(0,D.jsx)(p.Z,{sx:{p:0},onClick:function(){return f((function(r){return!r}))},children:(0,D.jsx)(I.Z,J({alt:o.displayName,src:o.photoURL},(0,q.GZ)(o.displayName)))})})]})}),(0,D.jsx)(K,{open:l,toggleUserDrawer:function(r){return function(e){if("keydown"===e.type&&("Tab"===e.key||"Shift"===e.key))return null;f(r)}}})]})},V=n(4106),W=function(r){var e=r.children,n=(0,u.useState)(!1),a=n[0],l=n[1],f=function(){return l(!a)};return(0,D.jsx)(t.Z,{theme:V.Z,children:(0,D.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,D.jsx)(c.ZP,{}),(0,D.jsx)(X,{open:a,toggleDrawer:f}),(0,D.jsx)(k,{open:a,toggleDrawer:f}),(0,D.jsxs)(s.Z,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,D.jsx)(i.Z,{}),(0,D.jsx)(o.Z,{maxWidth:"xl",sx:{mt:2,mb:2},children:e})]})]})})}},8459:function(r,e,n){"use strict";n.d(e,{p:function(){return i},T:function(){return t}});var t,i=240;!function(r){r.DESKTOP="DESKTOP",r.TABLET="TABLET",r.MOBILE="MOBILE",r.INITIAL="INITIAL"}(t||(t={}))},3936:function(r,e,n){"use strict";var t=n(9499),i=n(6835),o=n(6256),s=n(7294),c=n(2114);function u(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}e.Z=function(){var r=(0,s.useState)([]),e=r[0],n=r[1];return(0,s.useEffect)((function(){(0,o.jM)((0,o.iH)(c.UO,"usersGeolocation"),(function(r){var e,o=null===(e=Object.entries(r.val()))||void 0===e?void 0:e.map((function(r){var e=(0,i.Z)(r,2);e[0];return function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,t.Z)(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}({},e[1])}));n(o)}))}),[]),e}},315:function(r,e,n){"use strict";n.d(e,{Tq:function(){return s},GZ:function(){return u},Yd:function(){return a}});var t,i=n(381),o=n.n(i);!function(r){r.OFFLINE="Offline",r.ONLINE="Online"}(t||(t={}));var s=function(r){var e=o()().valueOf(),n=o()(e).diff(o()(r));return+o()(n).format("m")>2?t.OFFLINE:t.ONLINE},c=function(r){var e,n=0;for(e=0;e<r.length;e+=1)n=r.charCodeAt(e)+((n<<5)-n);var t="#";for(e=0;e<3;e+=1){t+="00".concat((n>>8*e&255).toString(16)).substr(-2)}return t},u=function(r){return{sx:{bgcolor:c(r)},children:a(r)}},a=function(r){return"".concat(null===r||void 0===r?void 0:r.split(" ")[0][0].toUpperCase()).concat(null===r||void 0===r?void 0:r.split(" ")[1][0].toUpperCase())}},1466:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/favorites",function(){return n(7985)}])}},function(r){r.O(0,[885,701,953,481,229,774,888,179],(function(){return e=1466,r(r.s=e);var e}));var e=r.O();_N_E=e}]);