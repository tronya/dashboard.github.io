(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{6215:function(e,r,n){"use strict";var t=n(5318);r.Z=void 0;var o=t(n(4938)),i=n(5893),a=(0,o.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");r.Z=a},8153:function(e,r,n){"use strict";var t=n(5318);r.Z=void 0;var o=t(n(4938)),i=n(5893),a=(0,o.default)((0,i.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");r.Z=a},3329:function(e,r,n){"use strict";var t=n(5318);r.Z=void 0;var o=t(n(4938)),i=n(5893),a=(0,o.default)((0,i.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");r.Z=a},2963:function(e,r,n){"use strict";n.d(r,{Z:function(){return O}});var t=n(7462),o=n(3366),i=n(7294),a=(n(9864),n(6010)),s=n(7192),c=n(1496),l=n(7623),u=n(5861),d=n(1796),p=n(8169),f=n(5893),h=(0,p.Z)((0,f.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),m=n(2607);const x=(0,c.ZP)(m.Z,{skipSx:!0})((({theme:e})=>(0,t.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,t.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,t.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,d._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,d._4)(e.palette.grey[600],.12)})}))),v=(0,c.ZP)(h)({width:24,height:16});var Z=function(e){const r=e;return(0,f.jsx)("li",{children:(0,f.jsx)(x,(0,t.Z)({focusRipple:!0},e,{ownerState:r,children:(0,f.jsx)(v,{ownerState:r})}))})},g=n(8979);function b(e){return(0,g.Z)("MuiBreadcrumbs",e)}var j=(0,n(6087).Z)("MuiBreadcrumbs",["root","ol","li","separator"]);const y=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],w=(0,c.ZP)(u.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,r)=>[{[`& .${j.li}`]:r.li},r.root]})({}),C=(0,c.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,r)=>r.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),k=(0,c.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,r)=>r.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S(e,r,n,t){return e.reduce(((o,i,a)=>(a<e.length-1?o=o.concat(i,(0,f.jsx)(k,{"aria-hidden":!0,className:r,ownerState:t,children:n},`separator-${a}`)):o.push(i),o)),[])}var O=i.forwardRef((function(e,r){const n=(0,l.Z)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:u,component:d="nav",expandText:p="Show path",itemsAfterCollapse:h=1,itemsBeforeCollapse:m=1,maxItems:x=8,separator:v="/"}=n,g=(0,o.Z)(n,y),[j,k]=i.useState(!1),O=(0,t.Z)({},n,{component:d,expanded:j,expandText:p,itemsAfterCollapse:h,itemsBeforeCollapse:m,maxItems:x,separator:v}),P=(e=>{const{classes:r}=e;return(0,s.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},b,r)})(O),N=i.useRef(null),R=i.Children.toArray(c).filter((e=>i.isValidElement(e))).map(((e,r)=>(0,f.jsx)("li",{className:P.li,children:e},`child-${r}`)));return(0,f.jsx)(w,(0,t.Z)({ref:r,component:d,color:"text.secondary",className:(0,a.Z)(P.root,u),ownerState:O},g,{children:(0,f.jsx)(C,{className:P.ol,ref:N,ownerState:O,children:S(j||x&&R.length<=x?R:(e=>m+h>=e.length?e:[...e.slice(0,m),(0,f.jsx)(Z,{"aria-label":p,onClick:()=>{k(!0);const e=N.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-h,e.length)])(R),P.separator,v,O)})}))}))},122:function(e,r,n){"use strict";n.d(r,{Z:function(){return w}});var t=n(3366),o=n(7462),i=n(7294),a=n(6010),s=n(7192),c=n(4844),l=n(1796),u=n(8216),d=n(1496),p=n(7623),f=n(8791),h=n(1705),m=n(5861),x=n(8979);function v(e){return(0,x.Z)("MuiLink",e)}var Z=(0,n(6087).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),g=n(5893);const b=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],j={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=(0,d.ZP)(m.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r[`underline${(0,u.Z)(n.underline)}`],"button"===n.component&&r.button]}})((({theme:e,ownerState:r})=>{const n=(0,c.D)(e,`palette.${(e=>j[e]||e)(r.color)}`)||r.color;return(0,o.Z)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==n?(0,l.Fq)(n,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Z.focusVisible}`]:{outline:"auto"}})}));var w=i.forwardRef((function(e,r){const n=(0,p.Z)({props:e,name:"MuiLink"}),{className:c,color:l="primary",component:d="a",onBlur:m,onFocus:x,TypographyClasses:Z,underline:j="always",variant:w="inherit"}=n,C=(0,t.Z)(n,b),{isFocusVisibleRef:k,onBlur:S,onFocus:O,ref:P}=(0,f.Z)(),[N,R]=i.useState(!1),B=(0,h.Z)(r,P),L=(0,o.Z)({},n,{color:l,component:d,focusVisible:N,underline:j,variant:w}),M=(e=>{const{classes:r,component:n,focusVisible:t,underline:o}=e,i={root:["root",`underline${(0,u.Z)(o)}`,"button"===n&&"button",t&&"focusVisible"]};return(0,s.Z)(i,v,r)})(L);return(0,g.jsx)(y,(0,o.Z)({className:(0,a.Z)(M.root,c),classes:Z,color:l,component:d,onBlur:e=>{S(e),!1===k.current&&R(!1),m&&m(e)},onFocus:e=>{O(e),!0===k.current&&R(!0),x&&x(e)},ref:B,ownerState:L,variant:w},C))}))},3040:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var t=n(6687),o=n(7294),i=n(2132),a=n(7357),s=n(5861),c=n(5113),l=n(7058),u=n(6489),d=n(1102),p=n(3329),f=n(8153),h=n(5137),m=n(5893),x=function(e){var r=e.geolocation,n=e.onUserClick,t=e.favorites,o=(0,l.$)().t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{breadcrumbText:o("favorites.title")}),(0,m.jsx)(a.Z,{py:2,children:(0,m.jsx)(s.Z,{variant:"h4",children:o("favorites.title")})}),(0,m.jsx)(c.Z,{children:(0,m.jsx)(d.t,{geolocation:r,onUserClick:n,starIcon:function(e){return null!==t&&void 0!==t&&t.find((function(r){return r===e}))?(0,m.jsx)(f.Z,{sx:{color:h.Z[500]}}):(0,m.jsx)(p.Z,{sx:{color:"white"}})}})})]})},v=n(7305),Z=n(7932),g=n(1035),b=n(1795),j=n(29),y=n(7794),w=n.n(y),C=n(5321),k=n(2114);var S=function(){var e=(0,j.Z)(w().mark((function e(r,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.pl)((0,C.JU)(k.DB,"favorites",r),{users:n,id:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),O=function(){var e=(0,b.a)().user,r=(0,o.useState)([]),n=r[0],a=r[1],s=(0,o.useState)([]),c=s[0],l=s[1];if((0,o.useEffect)((function(){(0,g.Yt)().then((function(e){return a(e)})).catch((function(e){return i.Am.error(e)}))}),[]),(0,o.useEffect)((function(){if(null!==e&&void 0!==e&&e.uid){var r=(0,C.IO)((0,C.hJ)(k.DB,"favorites"),(0,C.ar)("id","==",null===e||void 0===e?void 0:e.uid));(0,C.cf)(r,(function(e){e.forEach((function(e){l(e.data().users)}))}))}}),[e]),!n.length||!e)return(0,m.jsx)(v.Z,{});var u=function(r){l(r),S(e.uid,r)},d=n.filter((function(r){return e.uid!==r.id})).sort((function(e,r){return null!==c&&void 0!==c&&c.includes(r.id)?1:null!==c&&void 0!==c&&c.includes(e.id)?-1:0}));return(0,m.jsx)(Z.Z,{children:(0,m.jsx)(x,{geolocation:d,onUserClick:function(e){if(c.some((function(r){return r===e.id}))){var r=c.filter((function(r){return e.id!==r}));u(r)}else{var n=[].concat((0,t.Z)(c),[e.id]);u(n)}},favorites:c})})}},1102:function(e,r,n){"use strict";n.d(r,{t:function(){return P}});var t,o,i=n(9499),a=n(7212),s=n(8987),c=n(9661),l=n(9953),u=n(5861),d=n(1519),p=n(8462),f=n(8078),h=n(5893),m=function(e){for(var r=e.count,n=[],t=0;t<r;t++)n.push(t);return(0,h.jsx)(p.Z,{sx:{width:240},children:n.map((function(e,r){return(0,h.jsxs)(a.ZP,{alignItems:"flex-start",children:[(0,h.jsx)(s.Z,{children:(0,h.jsx)(f.Z,{variant:"circular",width:40,height:40})}),(0,h.jsx)(l.Z,{primary:(0,h.jsx)(f.Z,{variant:"text"}),secondary:(0,h.jsx)(u.Z,{component:"span",variant:"body2",children:(0,h.jsx)(f.Z,{variant:"text"})})})]},r)}))})},x=n(7036),v=n(3486),Z=n(1383),g=n(7357),b=n(5137),j=n(8797),y=(0,j.ZP)(p.Z)(t||(t=(0,Z.Z)(["\n  @media (max-width: 599px) {\n    margin-right: unset;\n  }\n"]))),w=(0,j.ZP)(g.Z)(o||(o=(0,Z.Z)(["\n  &:hover {\n    li {\n      svg {\n        color: ",";\n      }\n    }\n  }\n"])),b.Z[500]),C=n(315),k=n(1795);function S(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?S(Object(n),!0).forEach((function(r){(0,i.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var P=function(e){var r=e.geolocation,n=e.onUserClick,t=e.starIcon,o=(0,k.a)().user;if(!r.length)return(0,h.jsx)(m,{count:6});var i=r[r.length-1].user.uid;return(0,h.jsx)(y,{sx:{mr:2,mb:2,bgcolor:"background.paper"},children:r.map((function(e){var r=e.user,p=e.geolocationCoords,f=r.uid===(null===o||void 0===o?void 0:o.uid);return(0,h.jsxs)(w,{onClick:function(){return n(e)},sx:{cursor:"pointer"},children:[(0,h.jsxs)(a.ZP,{alignItems:"center",children:[(0,h.jsx)(s.Z,{children:(0,h.jsx)(c.Z,O({alt:r.displayName,src:r.photoURL},(0,C.GZ)(r.displayName)))}),(0,h.jsx)(l.Z,{sx:{color:x.Z[300]},primary:(0,h.jsxs)(h.Fragment,{children:[r.displayName,(0,h.jsx)(u.Z,{variant:"caption",children:f&&" (It's you)"})]}),secondary:(0,h.jsx)(u.Z,{component:"span",variant:"body2",color:"Online"===(0,C.Tq)(p.timestamp)?v.Z[400]:x.Z[500],children:(0,C.Tq)(p.timestamp)})}),t&&t(e.id)]}),i!==r.uid&&(0,h.jsx)(d.Z,{variant:"inset",component:"li"})]},r.uid)}))})}},6489:function(e,r,n){"use strict";var t=n(6687),o=n(122),i=n(5861),a=n(2963),s=n(1163),c=n(6215),l=n(7058),u=n(5893);r.Z=function(e){var r=e.otherBreadcrumbs,n=e.breadcrumbText,d=(0,s.useRouter)(),p=(0,l.$)().t,f=[(0,u.jsx)(o.Z,{underline:"hover",color:"inherit",href:"/",onClick:function(){return d.push("/")},children:p("dashboard.title")},"dashboard")].concat((0,t.Z)(null!==r&&void 0!==r?r:[]),[(0,u.jsx)(i.Z,{color:"text.primary",children:n},n)]);return(0,u.jsx)(a.Z,{separator:(0,u.jsx)(c.Z,{}),"aria-label":"breadcrumb",children:f})}},7305:function(e,r,n){"use strict";var t=n(8456),o=n(7357),i=n(4106),a=n(5893);r.Z=function(){return(0,a.jsx)(o.Z,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",children:(0,a.jsx)(t.Z,{size:100,sx:{color:i.Z.palette.primary.main}})})}},1466:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/favorites",function(){return n(3040)}])}},function(e){e.O(0,[885,389,582,324,699,774,888,179],(function(){return r=1466,e(e.s=r);var r}));var r=e.O();_N_E=r}]);